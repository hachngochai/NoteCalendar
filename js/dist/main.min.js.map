{"version":3,"sources":["main.js"],"names":["calendarDays","document","getElementById","dayName","monthYear","eventTitle","eventTime","eventLocation","eventNote","resetBtn","resetModal","today","confirmReset","cancelReset","Date","selectedDateKey","monthsVN","weekDaysVN","localStorage","events","renderCalendar","month","getItem","daysInMonth","year","textContent","startIndex","firstDay","row","createElement","getDate","concat","appendChild","getDay","i","span","length","dateKey","onclick","d","getMonth","getFullYear","classList","add","openEventForm","resetMode","setItem","JSON","stringify","viewMonth","viewYear","_loop","children","eventDateText","location","data","day","dateObj","title","value","time","querySelector","trim","note","remove","W","H","canvas","width","window","getContext","innerHeight","addEventListener","resizeFireworks","innerWidth","GRAVITY","height","fireworks","Firework","FIREWORK_Y","particles","x","_classCallCheck","this","vy","color","exploded","Math","random","randomColor","y","explode","ctx","fillStyle","fillRect","count","push","Particle","angle","PI","speed","cos","sin","alpha","size","vx","save","globalAlpha","beginPath","arc","fill","restore","colors","floor","animateFireworks","clearRect","filter","fw","p","forEach","update","draw","requestAnimationFrame","baseX","spread"],"mappings":"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","file":"main.min.js","sourcesContent":["/* ===== DOM ===== */\r\nconst calendarDays = document.getElementById(\"calendar-days\");\r\nconst dayName = document.getElementById(\"day-name\");\r\nconst monthYear = document.getElementById(\"month-year\");\r\n\r\nconst eventTitle = document.getElementById(\"eventTitle\");\r\nconst eventTime = document.getElementById(\"eventTime\");\r\nconst eventLocation = document.getElementById(\"eventLocation\");\r\nconst eventNote = document.getElementById(\"eventNote\");\r\nconst eventDateText = document.getElementById(\"eventDateText\");\r\n\r\nconst resetBtn = document.getElementById(\"resetModeBtn\");\r\nconst resetModal = document.getElementById(\"resetModal\");\r\nconst confirmReset = document.getElementById(\"confirmReset\");\r\nconst cancelReset = document.getElementById(\"cancelReset\");\r\n\r\n/* ===== TIME ===== */\r\nconst today = new Date();\r\nlet viewYear = today.getFullYear();\r\nlet viewMonth = today.getMonth();\r\nlet selectedDateKey = null;\r\n\r\n/* ===== RESET MODE ===== */\r\nlet resetMode = false;\r\n\r\n/* ===== DATA ===== */\r\nconst weekDaysVN = [\r\n  \"Chủ Nhật\",\"Thứ Hai\",\"Thứ Ba\",\r\n  \"Thứ Tư\",\"Thứ Năm\",\"Thứ Sáu\",\"Thứ Bảy\"\r\n];\r\n\r\nconst monthsVN = [\r\n  \"Tháng 1\",\"Tháng 2\",\"Tháng 3\",\"Tháng 4\",\r\n  \"Tháng 5\",\"Tháng 6\",\"Tháng 7\",\"Tháng 8\",\r\n  \"Tháng 9\",\"Tháng 10\",\"Tháng 11\",\"Tháng 12\"\r\n];\r\n\r\nlet events = JSON.parse(localStorage.getItem(\"tetEvents\")) || {};\r\n\r\n/* ===== RENDER CALENDAR ===== */\r\nfunction renderCalendar(month, year) {\r\n  calendarDays.innerHTML = \"\";\r\n\r\n  const firstDay = new Date(year, month, 1).getDay();\r\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\r\n\r\n  monthYear.textContent = `${monthsVN[month]} năm ${year}`;\r\n  dayName.textContent = `${weekDaysVN[today.getDay()]}, ngày ${today.getDate()}`;\r\n\r\n  let startIndex = firstDay === 0 ? 6 : firstDay - 1;\r\n  let row = document.createElement(\"div\");\r\n\r\n  for (let i = 0; i < startIndex; i++) {\r\n    row.appendChild(document.createElement(\"span\"));\r\n  }\r\n\r\n  for (let d = 1; d <= daysInMonth; d++) {\r\n    if (row.children.length === 7) {\r\n      calendarDays.appendChild(row);\r\n      row = document.createElement(\"div\");\r\n    }\r\n\r\n    const span = document.createElement(\"span\");\r\n    span.textContent = d;\r\n\r\n    if (\r\n      d === today.getDate() &&\r\n      month === today.getMonth() &&\r\n      year === today.getFullYear()\r\n    ) span.classList.add(\"active\");\r\n\r\n    const dateKey = `${year}-${month + 1}-${d}`;\r\n    if (events[dateKey]) span.classList.add(\"event\");\r\n\r\n    span.onclick = () => {\r\n      if (resetMode) {\r\n        if (!events[dateKey]) return;\r\n\r\n        delete events[dateKey];\r\n        localStorage.setItem(\"tetEvents\", JSON.stringify(events));\r\n        renderCalendar(viewMonth, viewYear);\r\n        return;\r\n      }\r\n      openEventForm(year, month, d);\r\n    };\r\n\r\n    row.appendChild(span);\r\n  }\r\n\r\n  while (row.children.length < 7) {\r\n    row.appendChild(document.createElement(\"span\"));\r\n  }\r\n\r\n  calendarDays.appendChild(row);\r\n}\r\n\r\n/* ===== OPEN FORM ===== */\r\nfunction openEventForm(year, month, day) {\r\n  selectedDateKey = `${year}-${month + 1}-${day}`;\r\n\r\n  const dateObj = new Date(year, month, day);\r\n  eventDateText.textContent =\r\n    `${day}/${month + 1}/${year} (${weekDaysVN[dateObj.getDay()]})`;\r\n\r\n  const data = events[selectedDateKey] || {};\r\n\r\n  eventTitle.value = data.title || \"\";\r\n  eventTime.value = data.time || \"\";\r\n  eventLocation.value = data.location || \"\";\r\n  eventNote.value = data.note || \"\";\r\n\r\n  document.querySelector(\".calendar\").classList.add(\"flip\");\r\n}\r\n\r\n/* ===== SAVE EVENT ===== */\r\ndocument.getElementById(\"saveEvent\").onclick = () => {\r\n  if (!selectedDateKey) return;\r\n\r\n  events[selectedDateKey] = {\r\n    title: eventTitle.value.trim(),\r\n    time: eventTime.value,\r\n    location: eventLocation.value.trim(),\r\n    note: eventNote.value.trim()\r\n  };\r\n\r\n  localStorage.setItem(\"tetEvents\", JSON.stringify(events));\r\n  document.querySelector(\".calendar\").classList.remove(\"flip\");\r\n  renderCalendar(viewMonth, viewYear);\r\n};\r\n\r\n/* ===== CANCEL ===== */\r\ndocument.getElementById(\"cancelEvent\").onclick = () => {\r\n  document.querySelector(\".calendar\").classList.remove(\"flip\");\r\n};\r\n\r\n/* ===== RESET BUTTON ===== */\r\nresetBtn.onclick = () => {\r\n  resetModal.classList.remove(\"hidden\");\r\n};\r\n\r\nconfirmReset.onclick = () => {\r\n  resetMode = true;\r\n  resetModal.classList.add(\"hidden\");\r\n};\r\n\r\ncancelReset.onclick = () => {\r\n  resetMode = false;\r\n  resetModal.classList.add(\"hidden\");\r\n};\r\n\r\n/* ===== NAVIGATION ===== */\r\ndocument.getElementById(\"prev\").onclick = () => {\r\n  viewMonth--;\r\n  if (viewMonth < 0) {\r\n    viewMonth = 11;\r\n    viewYear--;\r\n  }\r\n  renderCalendar(viewMonth, viewYear);\r\n};\r\n\r\ndocument.getElementById(\"next\").onclick = () => {\r\n  viewMonth++;\r\n  if (viewMonth > 11) {\r\n    viewMonth = 0;\r\n    viewYear++;\r\n  }\r\n  renderCalendar(viewMonth, viewYear);\r\n};\r\n\r\n/* ===== INIT ===== */\r\nrenderCalendar(viewMonth, viewYear);\r\n\r\n/* ================= FIREWORK ENGINE (RESTORED) ================= */\r\nconst canvas = document.getElementById(\"fireworks\");\r\nconst ctx = canvas.getContext(\"2d\");\r\n\r\nlet W, H;\r\nfunction resizeFireworks() {\r\n  W = canvas.width = window.innerWidth;\r\n  H = canvas.height = window.innerHeight;\r\n}\r\nwindow.addEventListener(\"resize\", resizeFireworks);\r\nresizeFireworks();\r\n\r\nconst GRAVITY = 0.06;\r\nconst FIREWORK_Y = H * 0.32;\r\n\r\nlet fireworks = [];\r\nlet particles = [];\r\n\r\nclass Firework {\r\n  constructor(x) {\r\n    this.x = x;\r\n    this.y = H;\r\n    this.vy = -(7 + Math.random() * 3);\r\n    this.color = randomColor();\r\n    this.exploded = false;\r\n  }\r\n\r\n  update() {\r\n    this.y += this.vy;\r\n    if (this.y <= FIREWORK_Y) {\r\n      this.explode();\r\n      this.exploded = true;\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    ctx.fillStyle = this.color;\r\n    ctx.fillRect(this.x, this.y, 2, 12);\r\n  }\r\n\r\n  explode() {\r\n    const count = 60 + Math.random() * 40;\r\n    for (let i = 0; i < count; i++) {\r\n      particles.push(new Particle(this.x, this.y, this.color));\r\n    }\r\n  }\r\n}\r\n\r\nclass Particle {\r\n  constructor(x, y, color) {\r\n    const angle = Math.random() * Math.PI * 2;\r\n    const speed = Math.random() * 5 + 2;\r\n\r\n    this.x = x;\r\n    this.y = y;\r\n    this.vx = Math.cos(angle) * speed;\r\n    this.vy = Math.sin(angle) * speed;\r\n    this.alpha = 1;\r\n    this.size = Math.random() * 2 + 1;\r\n    this.color = color;\r\n  }\r\n\r\n  update() {\r\n    this.vy += GRAVITY;\r\n    this.x += this.vx;\r\n    this.y += this.vy;\r\n    this.alpha -= 0.015;\r\n  }\r\n\r\n  draw() {\r\n    ctx.save();\r\n    ctx.globalAlpha = this.alpha;\r\n    ctx.fillStyle = this.color;\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n}\r\n\r\nfunction randomColor() {\r\n  const colors = [\r\n    \"#FFD700\",\r\n    \"#FF3D00\",\r\n    \"#FF9100\",\r\n    \"#F50057\",\r\n    \"#00E5FF\",\r\n    \"#76FF03\",\r\n    \"#FFEA00\"\r\n  ];\r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n}\r\n\r\nfunction animateFireworks() {\r\n  ctx.clearRect(0, 0, W, H);\r\n\r\n  fireworks = fireworks.filter(fw => !fw.exploded);\r\n  particles = particles.filter(p => p.alpha > 0);\r\n\r\n  fireworks.forEach(fw => {\r\n    fw.update();\r\n    fw.draw();\r\n  });\r\n\r\n  particles.forEach(p => {\r\n    p.update();\r\n    p.draw();\r\n  });\r\n\r\n  requestAnimationFrame(animateFireworks);\r\n}\r\nanimateFireworks();\r\n\r\n/* ===== AUTO FIRE – LỆCH PHẢI ===== */\r\nsetInterval(() => {\r\n  const baseX = W * 0.78;\r\n  const spread = 140;\r\n  fireworks.push(\r\n    new Firework(baseX + (Math.random() * spread - spread / 2))\r\n  );\r\n}, 1500);\r\n"]}