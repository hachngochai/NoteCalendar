"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var calendarDays=document.getElementById("calendar-days"),dayName=document.getElementById("day-name"),monthYear=document.getElementById("month-year"),eventTitle=document.getElementById("eventTitle"),eventTime=document.getElementById("eventTime"),eventLocation=document.getElementById("eventLocation"),eventNote=document.getElementById("eventNote"),eventDateText=document.getElementById("eventDateText"),resetBtn=document.getElementById("resetModeBtn"),resetModal=document.getElementById("resetModal"),confirmReset=document.getElementById("confirmReset"),cancelReset=document.getElementById("cancelReset"),today=new Date,viewYear=today.getFullYear(),viewMonth=today.getMonth(),selectedDateKey=null,resetMode=!1,weekDaysVN=["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"],monthsVN=["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],events=JSON.parse(localStorage.getItem("tetEvents"))||{};function renderCalendar(a,o){calendarDays.innerHTML="";var e=new Date(o,a,1).getDay(),t=new Date(o,a+1,0).getDate();monthYear.textContent="".concat(monthsVN[a]," năm ").concat(o),dayName.textContent="".concat(weekDaysVN[today.getDay()],", ngày ").concat(today.getDate());for(var n=0===e?6:e-1,r=document.createElement("div"),i=0;i<n;i++)r.appendChild(document.createElement("span"));for(var c=function(e){7===r.children.length&&(calendarDays.appendChild(r),r=document.createElement("div"));var t=document.createElement("span");(t.textContent=e)===today.getDate()&&a===today.getMonth()&&o===today.getFullYear()&&t.classList.add("active");var n="".concat(o,"-").concat(a+1,"-").concat(e);events[n]&&t.classList.add("event"),t.onclick=function(){if(resetMode){if(!events[n])return;return delete events[n],localStorage.setItem("tetEvents",JSON.stringify(events)),void renderCalendar(viewMonth,viewYear)}openEventForm(o,a,e)},r.appendChild(t)},l=1;l<=t;l++)c(l);for(;r.children.length<7;)r.appendChild(document.createElement("span"));calendarDays.appendChild(r)}function openEventForm(e,t,n){selectedDateKey="".concat(e,"-").concat(t+1,"-").concat(n);var a=new Date(e,t,n);eventDateText.textContent="".concat(n,"/").concat(t+1,"/").concat(e," (").concat(weekDaysVN[a.getDay()],")");var o=events[selectedDateKey]||{};eventTitle.value=o.title||"",eventTime.value=o.time||"",eventLocation.value=o.location||"",eventNote.value=o.note||"",document.querySelector(".calendar").classList.add("flip")}document.getElementById("saveEvent").onclick=function(){selectedDateKey&&(events[selectedDateKey]={title:eventTitle.value.trim(),time:eventTime.value,location:eventLocation.value.trim(),note:eventNote.value.trim()},localStorage.setItem("tetEvents",JSON.stringify(events)),document.querySelector(".calendar").classList.remove("flip"),renderCalendar(viewMonth,viewYear))},document.getElementById("cancelEvent").onclick=function(){document.querySelector(".calendar").classList.remove("flip")},resetBtn.onclick=function(){resetModal.classList.remove("hidden")},confirmReset.onclick=function(){resetMode=!0,resetModal.classList.add("hidden")},cancelReset.onclick=function(){resetMode=!1,resetModal.classList.add("hidden")},document.getElementById("prev").onclick=function(){--viewMonth<0&&(viewMonth=11,viewYear--),renderCalendar(viewMonth,viewYear)},document.getElementById("next").onclick=function(){11<++viewMonth&&(viewMonth=0,viewYear++),renderCalendar(viewMonth,viewYear)},renderCalendar(viewMonth,viewYear);var W,H,canvas=document.getElementById("fireworks"),ctx=canvas.getContext("2d");function resizeFireworks(){W=canvas.width=window.innerWidth,H=canvas.height=window.innerHeight}window.addEventListener("resize",resizeFireworks),resizeFireworks();var GRAVITY=.06,FIREWORK_Y=.32*H,fireworks=[],particles=[],Firework=function(){function t(e){_classCallCheck(this,t),this.x=e,this.y=H,this.vy=-(7+3*Math.random()),this.color=randomColor(),this.exploded=!1}return _createClass(t,[{key:"update",value:function(){this.y+=this.vy,this.y<=FIREWORK_Y&&(this.explode(),this.exploded=!0)}},{key:"draw",value:function(){ctx.fillStyle=this.color,ctx.fillRect(this.x,this.y,2,12)}},{key:"explode",value:function(){for(var e=60+40*Math.random(),t=0;t<e;t++)particles.push(new Particle(this.x,this.y,this.color))}}]),t}(),Particle=function(){function r(e,t,n){_classCallCheck(this,r);var a=Math.random()*Math.PI*2,o=5*Math.random()+2;this.x=e,this.y=t,this.vx=Math.cos(a)*o,this.vy=Math.sin(a)*o,this.alpha=1,this.size=2*Math.random()+1,this.color=n}return _createClass(r,[{key:"update",value:function(){this.vy+=GRAVITY,this.x+=this.vx,this.y+=this.vy,this.alpha-=.015}},{key:"draw",value:function(){ctx.save(),ctx.globalAlpha=this.alpha,ctx.fillStyle=this.color,ctx.beginPath(),ctx.arc(this.x,this.y,this.size,0,2*Math.PI),ctx.fill(),ctx.restore()}}]),r}();function randomColor(){var e=["#FFD700","#FF3D00","#FF9100","#F50057","#00E5FF","#76FF03","#FFEA00"];return e[Math.floor(Math.random()*e.length)]}function animateFireworks(){ctx.clearRect(0,0,W,H),fireworks=fireworks.filter(function(e){return!e.exploded}),particles=particles.filter(function(e){return 0<e.alpha}),fireworks.forEach(function(e){e.update(),e.draw()}),particles.forEach(function(e){e.update(),e.draw()}),requestAnimationFrame(animateFireworks)}animateFireworks(),setInterval(function(){var e=.78*W;fireworks.push(new Firework(e+(140*Math.random()-70)))},1500);
//# sourceMappingURL=main.min.js.map
