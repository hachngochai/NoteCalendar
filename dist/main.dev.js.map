{"version":3,"sources":["main.js"],"names":["calendarDays","document","getElementById","dayName","monthYear","eventTitle","eventTime","eventLocation","eventNote","eventDateText","resetBtn","resetModal","confirmReset","cancelReset","today","Date","viewYear","getFullYear","viewMonth","getMonth","selectedDateKey","resetMode","weekDaysVN","monthsVN","events","JSON","parse","localStorage","getItem","renderCalendar","month","year","innerHTML","firstDay","getDay","daysInMonth","getDate","textContent","startIndex","row","createElement","i","appendChild","d","children","length","span","classList","add","dateKey","onclick","setItem","stringify","openEventForm","day","dateObj","data","value","title","time","location","note","querySelector","trim","remove","animateCalendar","direction","offsetWidth","setTimeout","canvas","ctx","getContext","W","H","resizeFireworks","width","window","innerWidth","height","innerHeight","addEventListener","GRAVITY","FIREWORK_Y","fireworks","particles","Firework","x","y","vy","Math","random","color","randomColor","exploded","explode","fillStyle","fillRect","count","push","Particle","angle","PI","speed","vx","cos","sin","alpha","size","save","globalAlpha","beginPath","arc","fill","restore","colors","floor","animateFireworks","clearRect","filter","fw","p","forEach","update","draw","requestAnimationFrame","setInterval","baseX","spread","themeModal","openTheme","closeTheme","applyThemeBtn","bgInput","textInput","accentInput","theme","bg","text","accent","setTheme","documentElement","style","setProperty","savedTheme","resetThemeBtn","DEFAULT_THEME","removeItem","timePicker","pickMonth","pickYear","cursor","openTimePicker","m","opt","selected","currentYear","goToDate","parseInt","isNaN","cal","e","target","horseImg","horsePicker","changeHorseBtn","savedHorse","src","click","onchange","file","files","type","startsWith","alert","reader","FileReader","onload","result","readAsDataURL"],"mappings":"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","sourcesContent":["/* ===== DOM ===== */\r\nconst calendarDays = document.getElementById(\"calendar-days\");\r\nconst dayName = document.getElementById(\"day-name\");\r\nconst monthYear = document.getElementById(\"month-year\");\r\n\r\nconst eventTitle = document.getElementById(\"eventTitle\");\r\nconst eventTime = document.getElementById(\"eventTime\");\r\nconst eventLocation = document.getElementById(\"eventLocation\");\r\nconst eventNote = document.getElementById(\"eventNote\");\r\nconst eventDateText = document.getElementById(\"eventDateText\");\r\n\r\nconst resetBtn = document.getElementById(\"resetModeBtn\");\r\nconst resetModal = document.getElementById(\"resetModal\");\r\nconst confirmReset = document.getElementById(\"confirmReset\");\r\nconst cancelReset = document.getElementById(\"cancelReset\");\r\n\r\n/* ===== TIME ===== */\r\nconst today = new Date();\r\nlet viewYear = today.getFullYear();\r\nlet viewMonth = today.getMonth();\r\nlet selectedDateKey = null;\r\n\r\n/* ===== RESET MODE ===== */\r\nlet resetMode = false;\r\n\r\n/* ===== DATA ===== */\r\nconst weekDaysVN = [\r\n  \"Chủ Nhật\",\"Thứ Hai\",\"Thứ Ba\",\r\n  \"Thứ Tư\",\"Thứ Năm\",\"Thứ Sáu\",\"Thứ Bảy\"\r\n];\r\n\r\nconst monthsVN = [\r\n  \"Tháng 1\",\"Tháng 2\",\"Tháng 3\",\"Tháng 4\",\r\n  \"Tháng 5\",\"Tháng 6\",\"Tháng 7\",\"Tháng 8\",\r\n  \"Tháng 9\",\"Tháng 10\",\"Tháng 11\",\"Tháng 12\"\r\n];\r\n\r\nlet events = JSON.parse(localStorage.getItem(\"tetEvents\")) || {};\r\n\r\n/* ===== RENDER CALENDAR ===== */\r\nfunction renderCalendar(month, year) {\r\n  calendarDays.innerHTML = \"\";\r\n\r\n  const firstDay = new Date(year, month, 1).getDay();\r\n  const daysInMonth = new Date(year, month + 1, 0).getDate();\r\n\r\n  monthYear.textContent = `${monthsVN[month]} năm ${year}`;\r\n  dayName.textContent = `${weekDaysVN[today.getDay()]}, ngày ${today.getDate()}`;\r\n\r\n  let startIndex = firstDay === 0 ? 6 : firstDay - 1;\r\n  let row = document.createElement(\"div\");\r\n\r\n  for (let i = 0; i < startIndex; i++) {\r\n    row.appendChild(document.createElement(\"span\"));\r\n  }\r\n\r\n  for (let d = 1; d <= daysInMonth; d++) {\r\n    if (row.children.length === 7) {\r\n      calendarDays.appendChild(row);\r\n      row = document.createElement(\"div\");\r\n    }\r\n\r\n    const span = document.createElement(\"span\");\r\n    span.textContent = d;\r\n\r\n    if (\r\n      d === today.getDate() &&\r\n      month === today.getMonth() &&\r\n      year === today.getFullYear()\r\n    ) span.classList.add(\"active\");\r\n\r\n    const dateKey = `${year}-${month + 1}-${d}`;\r\n    if (events[dateKey]) span.classList.add(\"event\");\r\n\r\n    span.onclick = () => {\r\n      if (resetMode) {\r\n        if (!events[dateKey]) return;\r\n\r\n        delete events[dateKey];\r\n        localStorage.setItem(\"tetEvents\", JSON.stringify(events));\r\n        renderCalendar(viewMonth, viewYear);\r\n        return;\r\n      }\r\n      openEventForm(year, month, d);\r\n    };\r\n\r\n    row.appendChild(span);\r\n  }\r\n\r\n  while (row.children.length < 7) {\r\n    row.appendChild(document.createElement(\"span\"));\r\n  }\r\n\r\n  calendarDays.appendChild(row);\r\n}\r\n\r\n/* ===== OPEN FORM ===== */\r\nfunction openEventForm(year, month, day) {\r\n  selectedDateKey = `${year}-${month + 1}-${day}`;\r\n\r\n  const dateObj = new Date(year, month, day);\r\n  eventDateText.textContent =\r\n    `${day}/${month + 1}/${year} (${weekDaysVN[dateObj.getDay()]})`;\r\n\r\n  const data = events[selectedDateKey] || {};\r\n\r\n  eventTitle.value = data.title || \"\";\r\n  eventTime.value = data.time || \"\";\r\n  eventLocation.value = data.location || \"\";\r\n  eventNote.value = data.note || \"\";\r\n\r\n  document.querySelector(\".calendar\").classList.add(\"flip\");\r\n}\r\n\r\n/* ===== SAVE EVENT ===== */\r\ndocument.getElementById(\"saveEvent\").onclick = () => {\r\n  if (!selectedDateKey) return;\r\n\r\n  events[selectedDateKey] = {\r\n    title: eventTitle.value.trim(),\r\n    time: eventTime.value,\r\n    location: eventLocation.value.trim(),\r\n    note: eventNote.value.trim()\r\n  };\r\n\r\n  localStorage.setItem(\"tetEvents\", JSON.stringify(events));\r\n  document.querySelector(\".calendar\").classList.remove(\"flip\");\r\n  renderCalendar(viewMonth, viewYear);\r\n};\r\n\r\n/* ===== CANCEL ===== */\r\ndocument.getElementById(\"cancelEvent\").onclick = () => {\r\n  document.querySelector(\".calendar\").classList.remove(\"flip\");\r\n};\r\n\r\n/* ===== RESET BUTTON ===== */\r\nresetBtn.onclick = () => {\r\n  resetModal.classList.remove(\"hidden\");\r\n};\r\n\r\nconfirmReset.onclick = () => {\r\n  resetMode = true;\r\n  resetModal.classList.add(\"hidden\");\r\n};\r\n\r\ncancelReset.onclick = () => {\r\n  resetMode = false;\r\n  resetModal.classList.add(\"hidden\");\r\n};\r\n\r\n\r\n/* ===== NAVIGATION ===== */\r\nfunction animateCalendar(direction) {\r\n  calendarDays.classList.remove(\"slide-left\", \"slide-right\");\r\n\r\n  // force reflow để reset animation\r\n  void calendarDays.offsetWidth;\r\n\r\n  calendarDays.classList.add(\r\n    direction === \"next\" ? \"slide-left\" : \"slide-right\"\r\n  );\r\n}\r\n\r\ndocument.getElementById(\"prev\").onclick = () => {\r\n  animateCalendar(\"prev\");\r\n\r\n  setTimeout(() => {\r\n    viewMonth--;\r\n    if (viewMonth < 0) {\r\n      viewMonth = 11;\r\n      viewYear--;\r\n    }\r\n    renderCalendar(viewMonth, viewYear);\r\n  }, 220); // ⏱ đúng với CSS animation\r\n};\r\n\r\n\r\ndocument.getElementById(\"next\").onclick = () => {\r\n  animateCalendar(\"next\");\r\n\r\n  setTimeout(() => {\r\n    viewMonth++;\r\n    if (viewMonth > 11) {\r\n      viewMonth = 0;\r\n      viewYear++;\r\n    }\r\n    renderCalendar(viewMonth, viewYear);\r\n  }, 220);\r\n};\r\n\r\n\r\n/* ===== INIT ===== */\r\nrenderCalendar(viewMonth, viewYear);\r\n\r\n/* ================= FIREWORK ENGINE (RESTORED) ================= */\r\nconst canvas = document.getElementById(\"fireworks\");\r\nconst ctx = canvas.getContext(\"2d\");\r\n\r\nlet W, H;\r\nfunction resizeFireworks() {\r\n  W = canvas.width = window.innerWidth;\r\n  H = canvas.height = window.innerHeight;\r\n}\r\nwindow.addEventListener(\"resize\", resizeFireworks);\r\nresizeFireworks();\r\n\r\nconst GRAVITY = 0.06;\r\nconst FIREWORK_Y = H * 0.32;\r\n\r\nlet fireworks = [];\r\nlet particles = [];\r\n\r\nclass Firework {\r\n  constructor(x) {\r\n    this.x = x;\r\n    this.y = H;\r\n    this.vy = -(7 + Math.random() * 3);\r\n    this.color = randomColor();\r\n    this.exploded = false;\r\n  }\r\n\r\n  update() {\r\n    this.y += this.vy;\r\n    if (this.y <= FIREWORK_Y) {\r\n      this.explode();\r\n      this.exploded = true;\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    ctx.fillStyle = this.color;\r\n    ctx.fillRect(this.x, this.y, 2, 12);\r\n  }\r\n\r\n  explode() {\r\n    const count = 60 + Math.random() * 40;\r\n    for (let i = 0; i < count; i++) {\r\n      particles.push(new Particle(this.x, this.y, this.color));\r\n    }\r\n  }\r\n}\r\n\r\nclass Particle {\r\n  constructor(x, y, color) {\r\n    const angle = Math.random() * Math.PI * 2;\r\n    const speed = Math.random() * 5 + 2;\r\n\r\n    this.x = x;\r\n    this.y = y;\r\n    this.vx = Math.cos(angle) * speed;\r\n    this.vy = Math.sin(angle) * speed;\r\n    this.alpha = 1;\r\n    this.size = Math.random() * 2 + 1;\r\n    this.color = color;\r\n  }\r\n\r\n  update() {\r\n    this.vy += GRAVITY;\r\n    this.x += this.vx;\r\n    this.y += this.vy;\r\n    this.alpha -= 0.015;\r\n  }\r\n\r\n  draw() {\r\n    ctx.save();\r\n    ctx.globalAlpha = this.alpha;\r\n    ctx.fillStyle = this.color;\r\n    ctx.beginPath();\r\n    ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n}\r\n\r\nfunction randomColor() {\r\n  const colors = [\r\n    \"#FFD700\",\r\n    \"#FF3D00\",\r\n    \"#FF9100\",\r\n    \"#F50057\",\r\n    \"#00E5FF\",\r\n    \"#76FF03\",\r\n    \"#FFEA00\"\r\n  ];\r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n}\r\n\r\nfunction animateFireworks() {\r\n  ctx.clearRect(0, 0, W, H);\r\n\r\n  fireworks = fireworks.filter(fw => !fw.exploded);\r\n  particles = particles.filter(p => p.alpha > 0);\r\n\r\n  fireworks.forEach(fw => {\r\n    fw.update();\r\n    fw.draw();\r\n  });\r\n\r\n  particles.forEach(p => {\r\n    p.update();\r\n    p.draw();\r\n  });\r\n\r\n  requestAnimationFrame(animateFireworks);\r\n}\r\nanimateFireworks();\r\n\r\n/* ===== AUTO FIRE – LỆCH PHẢI ===== */\r\nsetInterval(() => {\r\n  const baseX = W * 0.78;\r\n  const spread = 140;\r\n  fireworks.push(\r\n    new Firework(baseX + (Math.random() * spread - spread / 2))\r\n  );\r\n}, 1500);\r\n\r\n\r\n\r\n/* ================= THEME SYSTEM (STEP 1) ================= */\r\nconst themeModal = document.getElementById(\"themeModal\");\r\nconst openTheme = document.getElementById(\"openTheme\");\r\nconst closeTheme = document.getElementById(\"closeTheme\");\r\nconst applyThemeBtn = document.getElementById(\"applyTheme\");\r\n\r\nconst bgInput = document.getElementById(\"theme-bg\");\r\nconst textInput = document.getElementById(\"theme-text\");\r\nconst accentInput = document.getElementById(\"theme-accent\");\r\n\r\n/* open / close */\r\nopenTheme.onclick = () => themeModal.classList.remove(\"hidden\");\r\ncloseTheme.onclick = () => themeModal.classList.add(\"hidden\");\r\n\r\n/* apply */\r\napplyThemeBtn.onclick = () => {\r\n  const theme = {\r\n    bg: bgInput.value,\r\n    text: textInput.value,\r\n    accent: accentInput.value\r\n  };\r\n\r\n  setTheme(theme);\r\n  localStorage.setItem(\"calendarTheme\", JSON.stringify(theme));\r\n  themeModal.classList.add(\"hidden\");\r\n};\r\n\r\n/* apply theme to css variables */\r\nfunction setTheme(theme) {\r\n  if (theme.bg)\r\n    document.documentElement.style.setProperty(\"--calendar-bg\", theme.bg);\r\n  if (theme.text)\r\n    document.documentElement.style.setProperty(\"--calendar-text\", theme.text);\r\n  if (theme.accent)\r\n    document.documentElement.style.setProperty(\"--calendar-accent\", theme.accent);\r\n}\r\n\r\n/* load saved theme */\r\nconst savedTheme = JSON.parse(localStorage.getItem(\"calendarTheme\"));\r\nif (savedTheme) setTheme(savedTheme);\r\n\r\nconst resetThemeBtn = document.getElementById(\"resetTheme\");\r\nconst DEFAULT_THEME = {\r\n  bg: \"#a12424\",\r\n  text: \"#fff8e1\",\r\n  accent: \"#ffd54f\"\r\n};\r\n\r\nresetThemeBtn.onclick = () => {\r\n  // reset CSS variables\r\n  setTheme(DEFAULT_THEME);\r\n\r\n  // xoá theme custom đã lưu\r\n  localStorage.removeItem(\"calendarTheme\");\r\n\r\n  // set lại color picker cho đúng màu mặc định\r\n  bgInput.value = DEFAULT_THEME.bg;\r\n  textInput.value = DEFAULT_THEME.text;\r\n  accentInput.value = DEFAULT_THEME.accent;\r\n};\r\n\r\nconst timePicker = document.getElementById(\"timePicker\");\r\nconst pickMonth = document.getElementById(\"pickMonth\");\r\nconst pickYear = document.getElementById(\"pickYear\");\r\n\r\nmonthYear.style.cursor = \"pointer\";\r\n\r\nmonthYear.onclick = () => {\r\n  openTimePicker();\r\n};\r\n\r\nfunction openTimePicker() {\r\n  pickMonth.innerHTML = \"\";\r\n  pickYear.innerHTML = \"\";\r\n\r\n  // tháng\r\n  monthsVN.forEach((m, i) => {\r\n    const opt = document.createElement(\"option\");\r\n    opt.value = i;\r\n    opt.textContent = m;\r\n    if (i === viewMonth) opt.selected = true;\r\n    pickMonth.appendChild(opt);\r\n  });\r\n\r\n  // năm (±20 năm)\r\n  const currentYear = today.getFullYear();\r\n  for (let y = currentYear - 20; y <= currentYear + 20; y++) {\r\n    const opt = document.createElement(\"option\");\r\n    opt.value = y;\r\n    opt.textContent = y;\r\n    if (y === viewYear) opt.selected = true;\r\n    pickYear.appendChild(opt);\r\n  }\r\n\r\n  timePicker.classList.remove(\"hidden\");\r\n}\r\n\r\nfunction goToDate(year, month) {\r\n  viewYear = year;\r\n  viewMonth = month;\r\n\r\n  // animation chuyển cảnh theo hướng \"nhảy\"\r\n  animateCalendar(\"next\");\r\n\r\n  renderCalendar(viewMonth, viewYear);\r\n}\r\n\r\ndocument.getElementById(\"goTime\").onclick = () => {\r\n  const y = parseInt(document.getElementById(\"pickYear\").value);\r\n  const m = parseInt(document.getElementById(\"pickMonth\").value);\r\n\r\n  if (isNaN(y) || isNaN(m)) return;\r\n\r\n  const cal = document.querySelector(\".calendar\");\r\n\r\n  // reset animation nếu spam click\r\n  cal.classList.remove(\"year-jump\");\r\n  void cal.offsetWidth; // force reflow\r\n\r\n  // thêm hiệu ứng rung + ripple\r\n  cal.classList.add(\"year-jump\");\r\n\r\n  // delay nhẹ cho cảm giác \"nhảy năm\"\r\n  setTimeout(() => {\r\n    goToDate(y, m); // JS month bắt đầu từ 0\r\n  }, 180);\r\n\r\n  document.getElementById(\"timeModal\").classList.add(\"hidden\");\r\n};\r\n\r\ndocument.getElementById(\"closeTime\").onclick = () => {\r\n  timePicker.classList.add(\"hidden\");\r\n};\r\n\r\ntimePicker.onclick = (e) => {\r\n  if (e.target === timePicker) {\r\n    timePicker.classList.add(\"hidden\");\r\n  }\r\n};\r\n\r\n/* ===== CUSTOM TET IMAGE ===== */\r\nconst horseImg = document.getElementById(\"tetHorse\");\r\nconst horsePicker = document.getElementById(\"horsePicker\");\r\nconst changeHorseBtn = document.getElementById(\"changeHorseBtn\");\r\n\r\n/* load ảnh đã lưu */\r\nconst savedHorse = localStorage.getItem(\"tetHorseImage\");\r\nif (savedHorse) {\r\n  horseImg.src = savedHorse;\r\n}\r\n\r\n/* click nút → mở file picker */\r\nchangeHorseBtn.onclick = () => {\r\n  horsePicker.click();\r\n};\r\n\r\n/* khi chọn ảnh */\r\nhorsePicker.onchange = () => {\r\n  const file = horsePicker.files[0];\r\n  if (!file) return;\r\n\r\n  if (!file.type.startsWith(\"image/\")) {\r\n    alert(\"Vui lòng chọn file ảnh\");\r\n    return;\r\n  }\r\n\r\n  const reader = new FileReader();\r\n  reader.onload = () => {\r\n    horseImg.src = reader.result;\r\n    localStorage.setItem(\"tetHorseImage\", reader.result);\r\n  };\r\n  reader.readAsDataURL(file);\r\n};\r\n\r\n// function resetHorse() {\r\n//   horseImg.src = \"horse.png\";\r\n//   localStorage.removeItem(\"tetHorseImage\");\r\n// }\r\n\r\n"],"file":"main.dev.js"}